# API 规范

------

### API

什么是API？API(Application Programming Interface)是

0.是应用与外界交换数据的途径
1.软件系统不同组成部分交互的约定
2.是资源及操作的抽象

就可用作为标准的话API的实现方式千差万别，但如果以非功能性需求来讲API必须符合统一规范

### REST style

 如果谷歌下“API规范”，99%的内容都是关于REST的内容，那么什么是REST呢？REST(Representational State Transfer)由Roy Thomas Fielding（HTTP规范的设计者）于提出，中文一般译为“表征状态转移”，是一种以资源为中心的API组织风格。我们可以逐字分析来理解其含义，“表征”或者说“表现”就是说资源的表现。隐藏在API后的资源原始格式形形色色，不局限于图片、视频、文本文件或者Databse，如上所说API是资源及操作的抽象，它需要依照请求者提供Accept所描述的格式（一般为JSON、XML等）在原始数据之上做出一个映射层，而API所展现出来的格式就是“表征”，这是资源的外在表现。而“状态转移”是指资源的变化，也就是一般所说的增删改等操作。顾名思义，REST风格的API就是围绕资源的表现形式和对应的各种操作所制定出的一套通用风格。它有以下几个特点：

 1、围绕资源
  所有操作都有对应的表征，资源总是以某种表征展示，即序列化的信息
 2、统一接口
  所有操作都有对应的HTTP method
  GET（SELECT）：从服务器取出资源（一项或多项）。
  POST（CREATE）：在服务器新建一个资源。
  PUT（UPDATE）：在服务器更新资源（客户端提供完整资源数据）。
  PATCH（UPDATE）：在服务器更新资源（客户端提供需要修改的资源数据）。
  DELETE（DELETE）：从服务器删除资源。
 3、URI
  每种资源至少有一个URI与之对应，URI只表示资源，不表示其他任何东西
 4、无状态
  这个比较好理解，HTTP就是无状态的
  单个请求的后果容易预见，风险边界容易把控
  提升系统的稳定性，容易提升内聚性，单个API只需要对自己的内部逻辑负责，对于指定的参数来说容易实现幂等性，便于测试
  提高可扩展性，降低耦合

 REST规范所涉及到的主要有以下几个部分：

 1、协议：一般都是HTTP协议
 2、域名：应该尽量将API部署在专用域名之下
 3、路径：使用资源名称+动名词的格式
 4、动词（方法）：一般如上所示
 5、版本号

